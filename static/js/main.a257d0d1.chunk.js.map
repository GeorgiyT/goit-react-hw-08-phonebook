{"version":3,"sources":["auth/authOperations.js","auth/authActions.js","auth/token.js","components/LoginMenu/LoginMenu.module.css","components/UserMenu/UserMenu.module.css","components/App.module.css","components/redux/action.js","auth/authSelector.js","components/Navigation/Navigation.js","components/LoginMenu/LoginMenu.js","image/avatar.jpg","components/UserMenu/UserMenu.js","components/Routes/PrivatRoute.js","components/Routes/PublicRoute.js","components/App.js","components/redux/reducer.js","auth/authReducer.js","components/redux/store.js","index.js"],"names":["axios","defaults","baseURL","register","user","dispatch","a","registerUserRequest","post","responce","registerUserSuccess","data","registerUserError","login","loginUserRequest","loginUserSuccess","loginUserError","logout","getState","token","set","userAuth","logoutUserRequest","logoutUserSuccess","unset","logoutUserError","currentUser","persistedToken","currentUserRequest","get","currentUserSuccess","currentUserError","createAction","headers","Authorization","module","exports","fetchContactRequest","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","addFilter","isAuthenticated","state","Boolean","getUserEmail","email","connect","isAuth","className","activeClassName","exact","to","LoginMenu","sytles","list","mapDispatchToProps","logoutFunc","authOperations","styles","src","avatar","alt","type","onClick","Component","component","redirectTo","routeProps","render","props","restricted","HomePage","lazy","Login","Register","PhoneBook","App","this","getCurrentUser","app","UserMenu","fallback","path","PrivatRoute","React","contacts","createReducer","_","action","payload","filter","el","id","isRequested","error","combineReducers","initialUserState","name","message","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersitConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","userAuthReducer","phoneBook","phoneBookReducer","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.a257d0d1.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport token from \"./token\";\r\n\r\nimport {\r\n  registerUserRequest,\r\n  registerUserSuccess,\r\n  registerUserError,\r\n  loginUserRequest,\r\n  loginUserSuccess,\r\n  loginUserError,\r\n  logoutUserRequest,\r\n  logoutUserSuccess,\r\n  logoutUserError,\r\n  currentUserRequest,\r\n  currentUserSuccess,\r\n  currentUserError\r\n} from \"./authActions\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst register = user => async dispatch => {\r\n  dispatch(registerUserRequest());\r\n\r\n  try {\r\n    const responce = await axios.post(\"/users/signup\", user);\r\n    dispatch(registerUserSuccess(responce.data));\r\n  } catch (error) {\r\n    dispatch(registerUserError(error));\r\n  }\r\n};\r\n\r\nconst login = user => async dispatch => {\r\n  dispatch(loginUserRequest());\r\n\r\n  try {\r\n    const responce = await axios.post(\"/users/login\", user);\r\n    dispatch(loginUserSuccess(responce.data));\r\n  } catch (error) {\r\n    dispatch(loginUserError(error));\r\n  }\r\n};\r\n\r\nconst logout = () => async (dispatch, getState) => {\r\n  token.set(getState().userAuth.token);\r\n\r\n  dispatch(logoutUserRequest());\r\n\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n    dispatch(logoutUserSuccess());\r\n    token.unset();\r\n  } catch (error) {\r\n    dispatch(logoutUserError(error));\r\n  }\r\n};\r\n\r\nconst currentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    userAuth: { token: persistedToken }\r\n  } = getState();\r\n\r\n  if (!persistedToken) return;\r\n\r\n  token.set(persistedToken);\r\n\r\n  dispatch(currentUserRequest());\r\n\r\n  try {\r\n    const responce = await axios.get(\"/users/current\");\r\n    dispatch(currentUserSuccess(responce.data));\r\n  } catch (error) {\r\n    dispatch(currentUserError(error));\r\n  }\r\n};\r\n\r\nexport { register, login, logout, currentUser };\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const registerUserRequest = createAction(\"registerUserRequest\");\r\nexport const registerUserSuccess = createAction(\"registerUserSuccess\");\r\nexport const registerUserError = createAction(\"registerUserError\");\r\n\r\nexport const loginUserRequest = createAction(\"loginUserRequest\");\r\nexport const loginUserSuccess = createAction(\"loginUserSuccess\");\r\nexport const loginUserError = createAction(\"loginUserError\");\r\n\r\nexport const logoutUserRequest = createAction(\"logoutUserRequest\");\r\nexport const logoutUserSuccess = createAction(\"logoutUserSuccess\");\r\nexport const logoutUserError = createAction(\"logoutUserError\");\r\n\r\nexport const currentUserRequest = createAction(\"currentUserRequest\");\r\nexport const currentUserSuccess = createAction(\"currentUserSuccess\");\r\nexport const currentUserError = createAction(\"currentUserError\");\r\n","import axios from \"axios\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.Authorization = `Bearer `;\r\n  }\r\n};\r\n\r\nexport default token;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"LoginMenu_list__dGqhC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"UserMenu_list__3XydI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__LeCwA\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactRequest = createAction(\"fetchContactRequest\");\r\nexport const fetchContactSuccess = createAction(\"fetchContactSuccess\");\r\nexport const fetchContactError = createAction(\"fetchContactError\");\r\n\r\nexport const addContactRequest = createAction(\"addContactRequest\");\r\nexport const addContactSuccess = createAction(\"addContactSuccess\");\r\nexport const addContactError = createAction(\"addContactError\");\r\n\r\nexport const deleteContactRequest = createAction(\"deleteContactRequest\");\r\nexport const deleteContactSuccess = createAction(\"deleteContactSuccess\");\r\nexport const deleteContactError = createAction(\"deleteContactError\");\r\n\r\nexport const addFilter = createAction(\"addFilter\");\r\n","export const isAuthenticated = state => Boolean(state.userAuth.token);\r\nexport const getUserEmail = state => state.userAuth.user.email;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../../auth/authSelector\";\r\n// import styles from \"./Navigation.module.css\";\r\n\r\nconst Navigation = ({ isAuth }) => {\r\n  return (\r\n    <ul className={\"\"}>\r\n      {!isAuth && (\r\n        <li>\r\n          <NavLink activeClassName={\"\"} className={\"\"} exact to=\"/\">\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n      )}\r\n      {/* {isAuth && (\r\n        <li>\r\n          <NavLink activeClassName={\"\"} className={\"\"} exact to=\"/contacts\">\r\n            Phonebook\r\n          </NavLink>\r\n        </li>\r\n      )} */}\r\n    </ul>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: isAuthenticated(state)\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport sytles from \"./LoginMenu.module.css\";\r\n\r\nconst LoginMenu = () => {\r\n  return (\r\n    <>\r\n      <ul className={sytles.list}>\r\n        <li>\r\n          <NavLink activeClassName={\"\"} className={\"\"} to=\"/login\">\r\n            Login\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName={\"\"} className={\"\"} to=\"/register\">\r\n            Register\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginMenu;\r\n","export default __webpack_public_path__ + \"static/media/avatar.de467242.jpg\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { isAuthenticated, getUserEmail } from \"../../auth/authSelector\";\r\nimport avatar from \"../../image/avatar.jpg\";\r\nimport * as authOperations from \"../../auth/authOperations\";\r\nimport styles from \"./UserMenu.module.css\";\r\n\r\nconst NavigationAuth = ({ isAuth, email, logoutFunc }) => {\r\n  return (\r\n    <>\r\n      {isAuth && (\r\n        <ul className={styles.list}>\r\n          <li>\r\n            <img src={avatar} alt=\"avatar\" />\r\n          </li>\r\n          <li>{email}, </li>\r\n          <li>\r\n            <button type=\"button\" onClick={logoutFunc}>\r\n              Logout\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: isAuthenticated(state),\r\n  email: getUserEmail(state)\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  logoutFunc: authOperations.logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationAuth);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router\";\r\nimport { isAuthenticated } from \"../../auth/authSelector\";\r\n\r\nconst PrivateRoute = ({ component: Component, isAuthenticated, redirectTo, ...routeProps }) => (\r\n  <Route {...routeProps} render={props => (isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />)} />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: isAuthenticated(state)\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router\";\r\nimport { isAuthenticated } from \"../../auth/authSelector\";\r\n\r\nconst PublicRoute = ({ component: Component, isAuthenticated, redirectTo, ...routeProps }) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props => (isAuthenticated && routeProps.restricted ? <Redirect to={redirectTo} /> : <Component {...props} />)}\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: isAuthenticated(state)\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { lazy, Suspense } from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport Navigation from \"./Navigation/Navigation\";\r\n// import PhoneBook from \"./pages/PhoneBook\";\r\n// import HomePage from \"./pages/HomePage\";\r\n// import Login from \"./pages/Login\";\r\n// import Register from \"./pages/Register\";\r\nimport LoginMenu from \"./LoginMenu/LoginMenu\";\r\nimport { connect } from \"react-redux\";\r\nimport * as authOperations from \"../auth/authOperations\";\r\nimport { isAuthenticated } from \"../auth/authSelector\";\r\nimport UserMenu from \"./UserMenu/UserMenu\";\r\nimport PrivatRoute from \"./Routes/PrivatRoute\";\r\nimport PublicRoute from \"./Routes/PublicRoute\";\r\nimport styles from \"./App.module.css\";\r\n\r\nconst HomePage = lazy(() => import(\"./pages/HomePage\"));\r\nconst Login = lazy(() => import(\"./pages/Login\"));\r\nconst Register = lazy(() => import(\"./pages/Register\"));\r\nconst PhoneBook = lazy(() => import(\"./pages/PhoneBook\"));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getCurrentUser();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={styles.app}>\r\n          <Navigation />\r\n          {this.props.isAuth ? <UserMenu /> : <LoginMenu />}\r\n        </div>\r\n        <Suspense fallback={<p>Downloading...</p>}>\r\n          <Switch>\r\n            <PublicRoute exact path=\"/\" restricted component={HomePage} redirectTo=\"/contacts\" />\r\n            <PublicRoute path=\"/login\" component={Login} restricted redirectTo=\"/contacts\" />\r\n            <PublicRoute path=\"/register\" component={Register} restricted redirectTo=\"/contacts\" />\r\n            <PrivatRoute path=\"/contacts\" component={PhoneBook} redirectTo=\"/login\" />\r\n          </Switch>\r\n        </Suspense>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: isAuthenticated(state)\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getCurrentUser: authOperations.currentUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport {\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  addFilter\r\n} from \"./action\";\r\n\r\nimport { logoutUserSuccess } from \"../../auth/authActions\";\r\n\r\nconst contacts = createReducer([], {\r\n  [fetchContactSuccess]: (_, action) => action.payload,\r\n  [addContactSuccess]: (state, action) => [...state, action.payload],\r\n  [deleteContactSuccess]: (state, action) => state.filter(el => el.id !== action.payload),\r\n  [logoutUserSuccess]: () => []\r\n});\r\n\r\nconst isRequested = createReducer(false, {\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [addFilter]: (_, action) => action.payload\r\n});\r\n\r\nconst error = createReducer(\"\", {\r\n  [fetchContactError]: (_, action) => action.payload,\r\n  [addContactError]: (_, action) => action.payload,\r\n  [deleteContactError]: (_, action) => action.payload\r\n});\r\n\r\nexport default combineReducers({\r\n  contacts,\r\n  isRequested,\r\n  filter,\r\n  error\r\n});\r\n","import { combineReducers, createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  registerUserRequest,\r\n  registerUserSuccess,\r\n  registerUserError,\r\n  loginUserRequest,\r\n  loginUserSuccess,\r\n  loginUserError,\r\n  logoutUserRequest,\r\n  logoutUserSuccess,\r\n  logoutUserError,\r\n  currentUserRequest,\r\n  currentUserSuccess,\r\n  currentUserError\r\n} from \"./authActions\";\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [registerUserSuccess]: (_, { payload }) => payload.user,\r\n  [loginUserSuccess]: (_, { payload }) => payload.user,\r\n  [logoutUserSuccess]: () => initialUserState,\r\n  [currentUserSuccess]: (_, { payload }) => payload\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [registerUserSuccess]: (_, { payload }) => payload.token,\r\n  [loginUserSuccess]: (_, { payload }) => payload.token,\r\n  [logoutUserSuccess]: () => null\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [registerUserError]: (_, { payload }) => payload.message,\r\n  [loginUserError]: (_, { payload }) => payload.message,\r\n  [logoutUserError]: (_, { payload }) => payload.message,\r\n  [currentUserError]: (_, { payload }) => payload.message\r\n});\r\n\r\nconst isRequested = createReducer(false, {\r\n  [registerUserRequest]: () => true,\r\n  [registerUserSuccess]: () => false,\r\n  [registerUserError]: () => false,\r\n\r\n  [loginUserRequest]: () => true,\r\n  [loginUserSuccess]: () => false,\r\n  [loginUserError]: () => false,\r\n\r\n  [logoutUserRequest]: () => true,\r\n  [logoutUserSuccess]: () => false,\r\n  [logoutUserError]: () => false,\r\n\r\n  [currentUserRequest]: () => true,\r\n  [currentUserSuccess]: () => false,\r\n  [currentUserError]: () => false\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isRequested\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport logger from \"redux-logger\";\r\nimport { FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER } from \"redux-persist\";\r\nimport persistReducer from \"redux-persist/es/persistReducer\";\r\nimport persistStore from \"redux-persist/es/persistStore\";\r\nimport phoneBookReducer from \"./reducer\";\r\nimport userAuthReducer from \"../../auth/authReducer\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER]\r\n    }\r\n  }),\r\n  logger\r\n];\r\n\r\nconst authPersitConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"]\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: { userAuth: persistReducer(authPersitConfig, userAuthReducer), phoneBook: phoneBookReducer },\r\n  middleware\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport * as store from \"./components/redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}